## Быстрое начало работы с **ABRIS BOT**

Версия ПО **ABRIS BOT** - упрощенный вариант десктопного приложения **ABRIS EDRAWER**.
Бот автоматически отрисовывает **DXF** подложки в заданном шаблоне по сырым данным геодезических измерений.

Для начала работы с ботом необходимо перейти по [ссылке](https://t.me/DXFMakerBot)

![alt-text](../pics/bot_main.png)

### Описание
Основным преимуществом данной версии является ее портативность. Бот может работать как в десктопной версии Telegram,
так и мобильном телефоне, контроллере GNSS оборудования.

Бот позволяет работать нескольким людям одновременно в одной рабочей папке, что позволяет загружать сырые данные
с разных контроллеров GNSS оборудования для получения общей **DXF** подложки.

### Команды
Основные команды для взаимодействия с ботом:
1. */registration* - Регистрация пользователя как сотрудника компании (работа в одной общей папке) или как независимого 
пользователя (свое собственное пространство для работы)
2. */test* - Получение тестовых файлов для тестирования работы бота
3. */delete_me* - Удаление пользователя из базы данных бота с удалением всех файлов

### Клавиатура
Главная клавиатура для управления ботом загружается после регистрации пользователя:

![alt-text](../pics/bot_keyboard.png)

1. *Выбрать загружаемый формат* - Выбор формата загружаемых данных. На данный момент доступно два формата для загрузки:
*"Geodimeter GNSS"* и *"№-N-E-H-C"*. При необходимости может быть добавлен новый формат (свяжитесь с разработчиком).
2. *Просмотреть файлы* - Отправляет в сообщения список файлов находящихся в папке на данный момент.
3. *Удалить все файлы* - Очищает рабочую папку.
4. *Получить DXF* - Отрисовывает DXF подложку из всех файлов, загруженных в рабочую папку.

### Форматы файлов
Формат *"Geodimeter GNSS"* является уникальным форматом, добавленным по запросу компании. Формат представляет собой **TXT**
файлы. Пример файла можно получить по команде - */test*.

Формат *"№-N-E-H-C"* является простым форматом с разделителем. Разделитель в файле определяется автоматически. При загрузке
файл должен иметь расширение **TXT**.
Пример файла в таблице:

| Номер пикета | Север | Восток | Высота | Код пикета |
|:---:|:---:|:---:|:---:|:---:|
| 1 | 439152.949 | 2203042.631 | 122.969 | 74.. |

### Отрисовка подложки

Подложка отрисовывается в формате **DXF** и отправляется ботом сообщением.
Перед отрисовкой можно запустить анализатор высот, работающий в тестовом режиме.

Анализатор высот построен так, чтобы находить ошибки в высоте пикетов, такие как:
1. Ошибка высоты вехи
2. Ложные фиксированные решения

