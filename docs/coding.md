## Система кодирования

Основным преимуществом применяемой системы кодирования является ее простота и повышенная гибкость по отношению
к другим системам.

Система кодирования используемая в ПК **ABRIS** основана на системе, используемой в ГБУ Мосгоргеотрест, но расширена и
улучшена.

В кодировании линий нет понятия начала или конца линии. Вместо этого используется специальная структура, означающая
присоединение текущего пикета к предыдущему или иному другому, что позволяет присоединять линии к любым пикетам, даже
относящимся к точечным объектам.

Атрибутами в системе являются **числовые обозначения** (для кодирования используются простые числа),
что позволяется вводить код используя лишь **числовую клавиатуру** оборудования. Все коды, используемые в системе
кодирования бота, приведены в [классификаторе](../files/classifier.pdf).

Пример кодов для пикетов:

```
30 - Дорога асфальтированная, 16 - Здание нежилое металлическое
51 - Забор металлический выше 1 метра, 74 - Контур растительности
```

Для объединения пикетов в линейные объекты используются точки, добавляемые к коду.

Две точки после числового идентификатора означают присоединение к предыдущему пикету`..`. Данная конструкция позволяет
строить любые комбинации типов линий и точечных объектов без прерывания линии. То есть, если в одном из пикетов
заканчивается один тип линии и начинается другой, Вам не придется ставить два пикета, как в обычных системах кодирования,
Вы получите непрерывную линию!

Например, из приведенных ниже пикетов будет построена линия, состоящая из двух типов линий и опирающаяся на точечный объект 
(код 81 - Дорожный знак, код 30 - Дорога асфальтированная, код 16 - Здание нежилое металлическое):
```
Имя Код
1   81
2   30..
3   30..
4   16..
5   16..
6   16..
```

Для начала линии от иного пикета после двух точек следует добавить номер пикета, от которого должна начаться
линия `30..164` (30 - Код, .. - Оператор присоединения, 164 - Номер пикета, с котогого нужно начать линию). 

Так, например, из приведенных ниже пикетов будет построена линия одного типа от пикета 1 до пикета 6:
```
Имя Код
1   81
2   81
3   30..1
4   30..
5   30..
6   30..
```

Для замыкания линии на пикет следует использовать три точки вместо двух `...`. Используя операторы `..` `...` в одной
линии можно построить либо замкнутый контур, либо линию, опирающуюся на два любых пикета.

Так, из пикетов приведенных ниже будет построен **замкнутый контур** (2-3-4-5-6-2) из 5 пикетов:
```
Имя Код
1   81
2   81
3   30..
4   30..
5   30..
6   30...2
```
Или линия, опирающаяся на **два любых** пикета (1-3-4-5-6-2) длиной равной 6 пикетам, началом в пикете 1 и концом
в пикете 2:
```
Имя Код
1   81
2   81
3   30..1
4   30..
5   30..
6   30...2
```
При необходимости в код можно внести дополнительную информацию **в скобках**
перед или после основной кодовой конструкции `30..1`, `30`, `30...164`, `30..`:
```
Имя Код
1   (временный)81
2   81
3   30..(ширина_2_м)
4   30..
5   30..
6   30...2(ширина_1_м)
```
Кодовому обозначению может принадлежать как и определенный тип **линейного объекта**, так и **точечного**.

Для **линейного объекта** за кодом закрепляются:

1. Слой (тип линии, цвет линии, вес линии)
2. Тип линии не по слою
3. Вес линии не по слою

Для **точечного объекта** за кодом закрепляются:

4. Слой
5. Имя блока для вставки